#!/bin/sh

set -e

echo "ğŸš€ Running pre-commit checks..."

echo "\n[1] Running cargo test..."

if cargo test; then
    echo "  âœ… cargo test passed"
else
    echo "  âŒ cargo test failed"
    exit 1
fi

echo "\n[2] Running cargo clippy..."
if cargo clippy -- -D warnings; then
    echo "  âœ… cargo clippy passed"
else
    echo "  âŒ cargo clippy failed"
    exit 1
fi

echo "\n[3] Running cargo fmt..."
if cargo fmt --check; then
    echo "  âœ… cargo fmt passed"
else
    echo "  âŒ cargo fmt failed"
    exit 1
fi

echo "\n[4] Running cargo check..."
if cargo check; then
    echo "  âœ… cargo check passed"
else
    echo "  âŒ cargo check failed"
    exit 1
fi

echo "\nğŸ‰ All checks passed!"
